% Sets
\newcommand{\Ab}{\mathbb{A}}
\newcommand{\Bb}{\mathbb{B}}
\newcommand{\Cb}{\mathbb{C}}
\newcommand{\Db}{\mathbb{D}}
\newcommand{\Eb}{\mathbb{E}}
\newcommand{\Fb}{\mathbb{F}}
\newcommand{\Gb}{\mathbb{G}}
\newcommand{\Hb}{\mathbb{H}}
\newcommand{\Ib}{\mathbb{I}}
\newcommand{\Jb}{\mathbb{J}}
\newcommand{\Kb}{\mathbb{K}}
\newcommand{\Lb}{\mathbb{L}}
\newcommand{\Mb}{\mathbb{M}}
\newcommand{\Nb}{\mathbb{N}}
\newcommand{\Ob}{\mathbb{O}}
\newcommand{\Pb}{\mathbb{P}}
\newcommand{\Qb}{\mathbb{Q}}
\newcommand{\Rb}{\mathbb{R}}
\newcommand{\Sb}{\mathbb{S}}
\newcommand{\Tb}{\mathbb{T}}
\newcommand{\Ub}{\mathbb{U}}
\newcommand{\Vb}{\mathbb{V}}
\newcommand{\Wb}{\mathbb{W}}
\newcommand{\Xb}{\mathbb{X}}
\newcommand{\Yb}{\mathbb{Y}}
\newcommand{\Zb}{\mathbb{Z}}

\newcommand{\Ac}{\mathcal{A}}
\newcommand{\Bc}{\mathcal{B}}
\newcommand{\Cc}{\mathcal{C}}
\newcommand{\Dc}{\mathcal{D}}
\newcommand{\Ec}{\mathcal{E}}
\newcommand{\Fc}{\mathcal{F}}
\newcommand{\Gc}{\mathcal{G}}
\newcommand{\Hc}{\mathcal{H}}
\newcommand{\Ic}{\mathcal{I}}
\newcommand{\Jc}{\mathcal{J}}
\newcommand{\Kc}{\mathcal{K}}
\newcommand{\Lc}{\mathcal{L}}
\newcommand{\Mc}{\mathcal{M}}
\newcommand{\Nc}{\mathcal{N}}
\newcommand{\Oc}{\mathcal{O}}
\newcommand{\Pc}{\mathcal{P}}
\newcommand{\Qc}{\mathcal{Q}}
\newcommand{\Rc}{\mathcal{R}}
\newcommand{\Sc}{\mathcal{S}}
\newcommand{\Tc}{\mathcal{T}}
\newcommand{\Uc}{\mathcal{U}}
\newcommand{\Vc}{\mathcal{V}}
\newcommand{\Wc}{\mathcal{W}}
\newcommand{\Xc}{\mathcal{X}}
\newcommand{\Yc}{\mathcal{Y}}
\newcommand{\Zc}{\mathcal{Z}}

% Random Variables
\newcommand{\rv}[1]{\symbf{#1}}
\newcommand{\map}[1]{#1^{\text{MAP}}}
% Matrix
\newcommand{\mat}[1]{\symbf{#1}}
\newcommand{\inv}{^{\raisebox{.2ex}{$\scriptscriptstyle-\mkern-1.5mu1$}}}
\newcommand{\tran}{^{\raisebox{.2ex}{$\scriptscriptstyle\mathsf{T}$}}}
\newcommand{\itran}{^{\raisebox{.2ex}{$\scriptscriptstyle-\mkern-1.5mu\mathsf{T}$}}}
\newcommand{\Eye}{\mat{\mathrm{I}}}
% Pseudo Inputs
\newcommand{\ps}[1]{\bar{#1}}
\newcommand{\psmat}[1]{\ps{\mat{#1}}}

% Nicer empty set
\renewcommand{\emptyset}{\varnothing}

% Math operators
% General
\DeclareMathOperator{\id}{id}
\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator*{\argmin}{arg\,min}
\DeclareMathOperator*{\argsup}{arg\,sup}
\DeclareMathOperator*{\arginf}{arg\,inf}
\DeclareMathOperator{\atanTwo}{atan2}
\DeclareMathOperator{\sgn}{sgn}
\DeclareMathOperator{\diag}{diag}
\DeclareMathOperator{\tr}{tr}
\DeclareMathOperator*{\maximize}{maximize}
\DeclareMathOperator*{\minimize}{minimize}
\DeclareMathOperator{\subjectto}{subject\ to}
\DeclareMathOperator{\Oh}{\mathcal{O}}
\DeclareMathOperator{\softmax}{softmax}
\newcommand{\Powerset}[1]{2^{#1}}
\newcommand*{\diff}{\mathop{}\!\mathrm{d}}
\DeclarePairedDelimiter{\abs}{\vert}{\vert}
\DeclarePairedDelimiter{\norm}{\Vert}{\Vert}
\newcommand{\nth}[2][th]{#2^{\text{#1}}}

% Probabilities
\DeclareMathOperator{\E}{\mathbb{E}}
\DeclareMathOperator{\cov}{cov}
\DeclareMathOperator{\var}{var}
\DeclareMathOperator{\p}{p}
\DeclareMathOperator{\pbar}{\bar{\p}}
\DeclareMathOperator{\phat}{\hat{p}}
\DeclareMathOperator{\q}{q}
\DeclareMathOperator{\KLdiv}{KL}
\DeclareMathOperator{\K}{k}
\DeclareMathOperator{\Norm}{\mathcal{N}\mkern3mu}
\DeclareMathOperator{\Multi}{\mathcal{M}}
\DeclareMathOperator{\Ber}{\mathcal{B}}
\DeclareMathOperator{\Uni}{\mathbb{U}}
\DeclareMathOperator{\Ind}{\mathbb{I}}
\DeclareMathOperator{\GP}{\mathcal{G\mkern-1mu P}\mkern3mu}
\DeclareMathOperator{\ProbSpace}{\mathcal{P}\mkern2mu}
\DeclareMathOperator{\indep}{\perp\mkern-9.5mu\perp}
\DeclareMathOperator{\nindep}{\centernot{\indep}}
\DeclareMathOperator{\risk}{R}

\providecommand\given{}
\DeclarePairedDelimiterX{\Cond}[1]{(}{)}{
    \renewcommand\given{%
        \nonscript\mkern2mu
        \delimsize\vert
        \nonscript\mkern2mu
        \mathopen{}
        \allowbreak}
    #1
}

\makeatletter
\newcommand{\Fun}{\@ifstar\@sfun\@fun}
\newcommand{\@fun}[1]{#1\Cond}
\newcommand{\@sfun}[1]{#1\Cond*}
\makeatother

\newcommand{\Probs}[1]{\ProbSpace_{#1}}
% \newcommand{\Probs}{\Fun*{\ProbSpace}}
\newcommand{\Prob}{\p\Cond}
\newcommand{\aProb}{\pbar\Cond}
\newcommand{\hProb}{\phat\Cond}
\newcommand{\Variat}{\q\Cond}
\newcommand{\Gaussian}{\Norm\Cond}
\newcommand{\Multinomial}{\Multi\Cond}
\newcommand{\Uniform}{\Uni\Cond}
\newcommand{\Indicator}{\Ind\Cond}

\DeclarePairedDelimiterX{\KLdelim}[2]{(}{)}{%
    #1\mkern2mu\delimsize\|\mkern2mu#2%
}
\newcommand{\KL}{\KLdiv\KLdelim}

\DeclarePairedDelimiterXPP{\Moment}[2]{#1}{[}{]}{}{
\renewcommand\given{%
    \nonscript\mkern2mu
    \delimsize\vert
    \nonscript\mkern2mu
    \mathopen{}
    \allowbreak}
#2
}

\providecommand\with{}
\DeclarePairedDelimiterX{\Set}[1]{\{}{\}}{
    \renewcommand\with{%
        \nonscript\mkern2mu
        \delimsize\vert
        \nonscript\mkern2mu
        \mathopen{}
        \allowbreak}
    #1
}

\DeclarePairedDelimiterXPP{\pix}[1]{\begingroup\scriptscriptstyle}{(}{)}{\endgroup}{\mkern-1mu#1\mkern-1mu}

% NOTE(mrksr): See https://tex.stackexchange.com/a/112212/34265
\makeatletter
\DeclareRobustCommand{\rvdots}{%
    \vbox{
        \baselineskip4\p@\lineskiplimit\z@
        \kern-\p@
        \hbox{.}\hbox{.}\hbox{.}
    }}
\makeatother
